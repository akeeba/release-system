{"version":3,"sources":["Items.js"],"names":[],"mappings":"AAKA,aAMA,GAAuB,WAAnB,QAAQ,CAAA,MAAZ,CAEI,GAAI,CAAA,MAAM,CAAG,EAAb,CAGJ,GAAI,CAAA,QAAQ,CAAG,EAAf,CAEA,QAAQ,CAAC,aAAT,CAAyB,SAAU,CAAV,CAAyB,IAC1C,CAAA,CAAM,CAAM,MAAM,CAAC,UAAP,CAAkB,aAAlB,CAAiC,EAAjC,CAD8B,CAE1C,CAAS,CAAG,QAAQ,CAAC,cAAT,CAAwB,kBAAxB,EAA4C,KAFd,CAG1C,CAAQ,CAAI,QAAQ,CAAC,cAAT,CAAwB,gBAAxB,EAA0C,KAHZ,CAI1C,CAAK,CAAO,MAAM,CAAC,UAAP,CAAkB,YAAlB,CAAgC,EAAhC,CAJ8B,CAM1C,CAN0C,GAQ1C,CAAQ,CAAG,CAR+B,EAW9C,MAAM,CAAC,OAAP,CAAe,CACX,GAAG,+EAA+E,CAA/E,wBAAoG,CAApG,sBAA0H,CAA1H,aAAsI,CAAtI,MADQ,CAEX,MAAM,CAAK,KAFA,CAGX,OAAO,GAHI,CAIX,SAAS,CAAE,mBAAA,CAAI,CACJ,CACI,GAAI,CAAA,CAAU,CAAG,QAAQ,CAAC,cAAT,CAAwB,gBAAxB,CAAjB,CAEA,CAAU,CAAC,SAAX,CAAuB,CAH3B,CAII,CAAU,CAAC,eAAX,CAA2B,UAA3B,CAJJ,CAMI,QAAQ,CAAC,YAAT,EACH,CAZD,CAAf,CAcH,C,CAED,QAAQ,CAAC,UAAT,CAAsB,UACtB,IACQ,CAAA,CAAO,CAAI,QAAQ,CAAC,cAAT,CAAwB,aAAxB,CADnB,CAEQ,CAAQ,CAAG,CAAO,CAAC,KAF3B,CAII,GAAiB,EAAb,GAAA,CAAJ,KAKI,CAAA,CAAQ,CAAG,QAAQ,CAAC,QAAQ,CAAC,cAAT,CAAwB,WAAxB,EAAqC,KAAtC,CALvB,CAMI,CAAK,CAAM,CAAQ,CAAC,OAAT,CAAiB,GAAjB,CANf,CAQa,CAAT,EAAA,CARJ,GAUI,CAAQ,CAAG,CAAQ,CAAC,MAAT,CAAgB,CAAhB,CAAmB,CAAnB,CAVf,EAaA,CAAQ,CAAG,CAAQ,CAAC,OAAT,CAAiB,GAAjB,CAAsB,GAAtB,CAA2B,GAA3B,CAbX,CAeA,CAAO,CAAC,KAAR,CAAgB,CAfhB,CAgBH,C,CAED,QAAQ,CAAC,YAAT,CAAwB,UACxB,IACQ,CAAA,CAAO,CAAI,QAAQ,CAAC,cAAT,CAAwB,aAAxB,CADnB,CAEQ,CAAQ,CAAG,CAAO,CAAC,KAF3B,CAII,GAAiB,EAAb,GAAA,CAAJ,EAKA,GAAI,CAAA,CAAQ,CAAG,QAAQ,CAAC,QAAQ,CAAC,cAAT,CAAwB,gBAAxB,EAA0C,KAA3C,CAAvB,CACA,CAAQ,CAAO,CAAQ,CAAC,OAAT,CAAiB,GAAjB,CAAsB,GAAtB,CAA2B,GAA3B,CANf,CAQA,CAAO,CAAC,KAAR,CAAgB,CARhB,CASH,C,CAED,MAAM,CAAC,gBAAP,CAAwB,kBAAxB,CAA4C,UAC5C,CACI,QAAQ,CAAC,cAAT,CAAwB,WAAxB,EAAqC,gBAArC,CAAsD,OAAtD,CAA+D,QAAQ,CAAC,UAAxE,CADJ,CAEI,QAAQ,CAAC,cAAT,CAAwB,gBAAxB,EAA0C,gBAA1C,CAA2D,QAA3D,CAAqE,QAAQ,CAAC,YAA9E,CAFJ,CAGI,QAAQ,CAAC,cAAT,CAAwB,YAAxB,EAAsC,gBAAtC,CAAuD,QAAvD,CAAiE,UACjE,CACwD,MAAhD,GAAA,QAAQ,CAAC,cAAT,CAAwB,YAAxB,EAAsC,KAD9C,EAGQ,QAAQ,CAAC,aAAT,EAEP,CAND,CAHJ,CAWI,QAAQ,CAAC,aAAT,CAAuB,MAAM,CAAC,UAAP,CAAkB,mBAAlB,CAAuC,EAAvC,CAAvB,CACH,CAbD,C","file":"Items.min.js","sourcesContent":["/**\n * @package   AkeebaReleaseSystem\n * @copyright Copyright (c)2010-2022 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\"use strict\";\n\n/**\n * JavaScript for backend Items view\n */\n\nif (typeof (akeeba) == \"undefined\")\n{\n    var akeeba = {};\n}\n\nvar arsItems = {};\n\narsItems.populateFiles = function (forceSelected) {\n    var itemID    = Joomla.getOptions(\"ars.item_id\", \"\");\n    var releaseID = document.getElementById(\"jform_release_id\").value;\n    var selected  = document.getElementById(\"jform_filename\").value;\n    var token     = Joomla.getOptions(\"csrf.token\", \"\");\n\n    if (forceSelected)\n    {\n        selected = forceSelected;\n    }\n\n    Joomla.request({\n        url:       `index.php?option=com_ars&view=ajax&format=raw&task=getFiles&item_id=${itemID}&release_id=${releaseID}&selected=${selected}&${token}=1`,\n        method:    \"GET\",\n        perform:   true,\n        onSuccess: data =>\n                   {\n                       let elFilename = document.getElementById(\"jform_filename\");\n\n                       elFilename.innerHTML = data;\n                       elFilename.removeAttribute(\"disabled\");\n\n                       arsItems.onFileChange();\n                   }\n    });\n};\n\narsItems.onLinkBlur = function (e)\n{\n    var elAlias  = document.getElementById(\"jform_alias\");\n    var oldAlias = elAlias.value;\n\n    if (oldAlias !== \"\")\n    {\n        return;\n    }\n\n    var newAlias = basename(document.getElementById(\"jform_url\").value);\n    var qmPos    = newAlias.indexOf(\"?\");\n\n    if (qmPos >= 0)\n    {\n        newAlias = newAlias.substr(0, qmPos);\n    }\n\n    newAlias = newAlias.replace(\" \", \"-\", \"g\");\n\n    elAlias.value = newAlias;\n};\n\narsItems.onFileChange = function (e)\n{\n    var elAlias  = document.getElementById(\"jform_alias\");\n    var oldAlias = elAlias.value;\n\n    if (oldAlias !== \"\")\n    {\n        return;\n    }\n\n    var newAlias = basename(document.getElementById(\"jform_filename\").value);\n    newAlias     = newAlias.replace(\" \", \"-\", \"g\");\n\n    elAlias.value = newAlias;\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", function ()\n{\n    document.getElementById(\"jform_url\").addEventListener(\"focus\", arsItems.onLinkBlur);\n    document.getElementById(\"jform_filename\").addEventListener(\"change\", arsItems.onFileChange);\n    document.getElementById(\"jform_type\").addEventListener(\"change\", function (e)\n    {\n        if (document.getElementById(\"jform_type\").value === \"file\")\n        {\n            arsItems.populateFiles();\n        }\n    });\n\n    arsItems.populateFiles(Joomla.getOptions(\"ars.item_filename\", \"\"));\n});\n"]}
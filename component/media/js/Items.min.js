/*
 Copyright (c)2010-2022 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"==typeof akeeba)var akeeba={};
var arsItems={onTypeChange:function(b){arsItems.showHideRows()},populateFiles:function(b){var a=Joomla.getOptions("ars.item_id",""),c=document.getElementById("release_id").value,e=document.getElementById("filename").value,f=Joomla.getOptions("csrf.token","");b&&(e=b);b={option:"com_ars",view:"Ajax",format:"raw",task:"getFiles",item_id:a,release_id:c,selected:e};b[f]=1;akeeba.Ajax.ajax("index.php",{type:"GET",data:b,success:function(g){var d=document.getElementById("filename");d.innerHTML=g;d.removeAttribute("disabled");
d.addEventListener("change",function(h){arsItems.onFileChange(h)});arsItems.onFileChange()}})},onLinkBlur:function(b){b=document.getElementById("alias");if(""===b.value){var a=basename(document.getElementById("url").value),c=a.indexOf("?");0<=c&&(a=a.substr(0,c));a=a.replace(" ","-","g");a=a.replace(".","-","g");b.value=a}},onFileChange:function(b){b=document.getElementById("alias");if(""===b.value){var a=basename(document.getElementById("filename").value);a=a.replace(" ","-","g");a=a.replace(".",
"-","g");b.value=a}},showHideRows:function(b){var a=document.getElementById("filename"),c=document.getElementById("url");a.parentNode.style.display="none";c.parentNode.style.display="none";"file"===document.getElementById("type").value?(a.parentNode.style.display="",a.setAttribute("disabled","disabled"),(void 0===b||b)&&arsItems.populateFiles()):c.parentNode.style.display=""}};
akeeba.System.documentReady(function(){document.getElementById("url").addEventListener("focus",function(b){arsItems.onLinkBlur(b)});arsItems.showHideRows(!1);arsItems.populateFiles(Joomla.getOptions("ars.item_filename",""))});
